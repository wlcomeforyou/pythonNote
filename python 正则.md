# python 正则

用来处理字符串，对字符串进行检索和替换

使用re 模块

## 常用方法

### match

查找字符串，返回的结果是一个re.match对象

### search

查找字符串，返回的结果是一个re.match对象

### match 和 serach

- 共同点：
  1. 只对字符串查询一次
  2. 返回值类型都是re.match对象
- 不同点：
  1. match从头开始匹配，一旦匹配失败就返回None
  2. search是在整个字符串里搜索

### finditer

查找的返回的结果是一个可迭代对象

### findall

把查找的所有的结果放到一个数组里

### fullmatch

完全匹配；整个匹配

### sub

利用正则进行替换

```python
import re
re.sub(r'\d', 'x', 'sad12w1wr5') # sadxxwxwrx 把所有的数字替换成x

re.sub(r'\d+', lambda x: str(int(x.group(0)) * 2), 'hello12world34')
# hello24world68
```



## re.Match类

```python
m = re.search(r'(?P<result>m)', 'astfwenmyruj')
m.span() # 匹配到的结果字符串的开始和结束下标 m.span(n)表示第n个分组的开始结束下标
m.group()  # 获取匹配的字符串的结果 m.group(n)可选参数：表示第n个分组
		  # 若在有分组的情况下；分组0表示匹配的结果；分组1 匹配第一个（）;以此类推 
m.groups() # 将匹配的结果放到一个元组
m.groupdict() # {'result': 'xxxx'}   (?P<name>表达式) 给分组起一个名字 得到一个分组名的字典
m.groupdict('result') # 得到对应的匹配结果
 
```

## 正则修饰符

- re.S：让 . 匹配换行
- re.I：正则匹配大小写
- re.M：让$匹配换行；多行匹配

## 正则的规则

| 字符 | 描述                                         |
| ---- | -------------------------------------------- |
| \s   | 表示任意的空白字符；空格\s、换行\n、制表符\t |
| \S   | 表示非空白字符                               |

| 标点符号 | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| ()       | 标识分组                                                     |
| .        | 匹配除换行符之外的任意字符                                   |
| []       | 标记可选范围 [x-y] 从x~y区间                                 |
| \        | 将下一个字符标记特殊字符或者原义衣服                         |
| {}       | 限定前面元素出现的次数   {n}出现n次   {n,}出现n次以上  {,n}出现n次以 下 |
| \|       | 指明两项之间的一个选择                                       |
| \d       | 匹配一个数字                                                 |
| [0-9]    | 匹配任意数字                                                 |
| \D       | 匹配一个非数字字符                                           |
| \w       | 匹配数字、字母以及_                                          |
| \W       | 匹配非数字、字母以及_                                        |

| 限定字符 | 描述                                   |
| -------- | -------------------------------------- |
| *        | 匹配0次或多次                          |
| +        | 匹配1次或多次                          |
| ？       | 匹配0次或1次；将贪婪模式转成非贪婪模式 |
| ^        | 以指定内容开头；取反                   |
| $        | 以指定内容结束                         |
|          |                                        |
|          |                                        |

## 贪婪、非贪婪模式

默认是贪婪模式

在贪婪模式后面加一个?符号；则转成非贪婪模式

 